---
title: Especifica√ß√µes ZOF - Zion Orchestration Framework
description: Schemas YAML can√¥nicos para workflows, transi√ß√µes de estado e avalia√ß√£o EvaluateForEnrich do Zion Orchestration Framework
keywords:
  - ZOF
  - Zion Orchestration Framework
  - workflows conceituais
  - estados can√¥nicos
  - EvaluateForEnrich
  - orquestra√ß√£o IA
  - schemas YAML
framework: ZOF
icon: i-heroicons-bolt
layout: docs
sidebar: true
toc: true
navigation: true
lang: pt
last_updated: 2025-10-31T00:00:00.000Z
order: 3
---

# Especifica√ß√µes ZOF - Zion Orchestration Framework

Esta se√ß√£o cont√©m as especifica√ß√µes can√¥nicas normativas para o **Zion Orchestration Framework (ZOF)**, definindo schemas YAML para workflows conceituais orientados a IA, transi√ß√µes de estado e checkpoint EvaluateForEnrich.

## üìã Schemas Dispon√≠veis

### 1. ZOF Workflow Schema
**Arquivo:** `zof-workflow-schema.yaml`  
**Vers√£o:** 1.0.0  
**Prop√≥sito:** Especifica√ß√£o para defini√ß√£o de workflows conceituais

<YamlViewer file-path="/content/pt/docs/frameworks/specifications/zof/zof-workflow-schema.yaml" />

#### Estados Can√¥nicos Obrigat√≥rios
1. **intake:** Captura de contexto e requisitos
2. **understand:** Consulta obrigat√≥ria ao Oracle (UKIs)  
3. **decide:** Decis√£o baseada em conhecimento existente
4. **act:** Execu√ß√£o da a√ß√£o planejada
5. **evaluate_for_enrich:** Checkpoint obrigat√≥rio de avalia√ß√£o
6. **review:** Valida√ß√£o opcional do resultado
7. **enrich:** Enriquecimento condicional do Oracle

#### Eventos Gatilho Can√¥nicos
- `knowledge.added` - Novo conte√∫do dispon√≠vel
- `work.proposed` - Nova proposta de trabalho
- `work.refine.requested` - Solicita√ß√£o de refinamento
- `assistance.requested` - Pedido de ajuda/colabora√ß√£o
- `test.authored` - Cen√°rios de teste criados
- `feedback.submitted` - Corre√ß√£o/aprendizado

### 2. ZOF State Transition Schema
**Arquivo:** `zof-state-transition-schema.yaml`  
**Vers√£o:** 1.0.0  
**Prop√≥sito:** Especifica√ß√£o para transi√ß√µes entre estados can√¥nicos

<YamlViewer file-path="/content/pt/docs/frameworks/specifications/zof/zof-state-transition-schema.yaml" />

#### Componentes Principais
- **Condi√ß√µes de Transi√ß√£o:** L√≥gica para mudan√ßa de estado
- **Sinais Obrigat√≥rios:** Context, Decision, Result para explicabilidade
- **Valida√ß√µes:** Verifica√ß√µes executadas durante transi√ß√£o
- **A√ß√µes:** Opera√ß√µes realizadas na transi√ß√£o
- **Integra√ß√£o MAL:** Detec√ß√£o e arbitragem de conflitos

### 3. ZOF Enrichment Evaluation Schema
**Arquivo:** `zof-enrichment-evaluation-schema.yaml`  
**Vers√£o:** 1.0.0  
**Prop√≥sito:** Especifica√ß√£o para checkpoint EvaluateForEnrich

<YamlViewer file-path="/content/pt/docs/frameworks/specifications/zof/zof-enrichment-evaluation-schema.yaml" />

#### Elementos de Avalia√ß√£o
- **can_enrich_decision:** Resultado da fun√ß√£o can_enrich?()
- **moc_criteria_results:** Avalia√ß√£o baseada em crit√©rios MOC
- **authority_validation:** Valida√ß√£o de autoridade do usu√°rio
- **conflict_detection:** Detec√ß√£o de conflitos H1/H2/H3
- **scope_mode_validation:** Valida√ß√£o para opera√ß√µes multi-escopo

## üéØ Uso das Especifica√ß√µes

### Para Implementadores

#### Estrutura B√°sica de Workflow ZOF
```yaml
# Exemplo m√≠nimo de workflow ZOF
schema: "1.0"
workflow_id: zof-exemplo-basico
title: "Workflow de Exemplo B√°sico"
version: "1.0.0"

canonical_states:
  intake:
    description: "Captura de contexto e requisitos"
    signals:
      context: "Requisi√ß√£o inicial recebida"
      decision: "Contexto suficiente para prosseguir"
      result: "Requisitos organizados e validados"
    transitions:
      - target_state: understand
        condition: "completion_criteria_met"
        description: "Prosseguir para consulta Oracle"

  understand:
    description: "Consulta obrigat√≥ria ao Oracle"
    signals:
      context: "Consultar conhecimento existente relevante"
      decision: "Oracle consultado com sucesso"
      result: "Conhecimento existente identificado"
    oracle_consultation:
      required: true
      query_parameters:
        scope_filter: ["squad", "tribe"]
        domain_filter: ["technical"]
      filter_criteria:
        user_context_required: true
        authority_validation: true
    transitions:
      - target_state: decide
        condition: "oracle_consulted"
        description: "Prosseguir para decis√£o"

  decide:
    description: "Decis√£o baseada em conhecimento"
    signals:
      context: "Conhecimento Oracle + contexto requisi√ß√£o"
      decision: "Abordagem de implementa√ß√£o definida"
      result: "Estrat√©gia clara para execu√ß√£o"
    transitions:
      - target_state: act
        condition: "decision_made"
        description: "Executar a√ß√£o planejada"

  act:
    description: "Execu√ß√£o da a√ß√£o planejada"
    signals:
      context: "Estrat√©gia definida para implementa√ß√£o"
      decision: "Executar conforme planejado"
      result: "A√ß√£o conclu√≠da com resultado espec√≠fico"
    transitions:
      - target_state: evaluate_for_enrich
        condition: "action_executed"
        description: "Avaliar para enriquecimento"

  evaluate_for_enrich:
    description: "Checkpoint obrigat√≥rio de avalia√ß√£o"
    signals:
      context: "Resultado da a√ß√£o dispon√≠vel para avalia√ß√£o"
      decision: "can_enrich?() executado com crit√©rios MOC"
      result: "Decis√£o de enriquecimento tomada"
    checkpoint_config:
      can_enrich_function:
        implementation: minimum_profile
        criteria: ["semantic_novelty", "practical_value", "basic_authority"]
      moc_criteria_consultation:
        required: true
        criteria_source: "hierarchies.evaluation_criteria.nodes"
      authority_validation:
        required: true
        validation_method: moc_based
    transitions:
      - target_state: review
        condition: "evaluation_completed"
        description: "Prosseguir para revis√£o"
      - target_state: enrich
        condition: "can_enrich_approved"
        description: "Enriquecer Oracle diretamente"

  review:
    description: "Valida√ß√£o opcional do resultado"
    signals:
      context: "Resultado validado opcionalmente"
      decision: "Qualidade confirmada"
      result: "Resultado aprovado para uso"
    transitions:
      - target_state: enrich
        condition: "review_approved"
        description: "Enriquecer Oracle"
      - target_state: complete
        condition: "no_enrichment_needed"
        description: "Finalizar workflow"

  enrich:
    description: "Enriquecimento condicional do Oracle"
    signals:
      context: "Conhecimento aprovado para enriquecimento"
      decision: "Oracle ser√° enriquecido com novo conhecimento"
      result: "Oracle enriquecido com sucesso"
    transitions:
      - target_state: complete
        condition: "enrichment_completed"
        description: "Workflow conclu√≠do"

trigger_events:
  - event_type: work.proposed
    description: "Nova proposta de trabalho"
  - event_type: knowledge.added
    description: "Novo conhecimento dispon√≠vel"

metadata:
  created_date: 2025-10-31
  last_modified: 2025-10-31
  maintainer: platform-team
```

#### Configura√ß√£o de Transi√ß√£o de Estado
```yaml
# Exemplo de transi√ß√£o intake ‚Üí understand
schema: "1.0"
transition_id: zof-tr-exemplo-001
workflow_ref: zof-exemplo-basico
from_state: intake
to_state: understand

condition:
  type: completion_criteria
  expression: "all_completion_criteria_met && context_captured"
  description: "Crit√©rios de completude atendidos e contexto capturado"

signals:
  context: "Estado intake finalizado com requisitos documentados"
  decision: "Crit√©rios satisfeitos, prosseguindo para consulta Oracle"
  result: "Transi√ß√£o para understand confirmada"

validations:
  - validation_type: state_completeness
    description: "Validar completude do estado intake"
    status: passed
    details: "Todos os campos obrigat√≥rios preenchidos"

actions:
  - action_type: oracle_consultation
    description: "Preparar consulta ao Oracle"
    execution_order: 1
    parameters:
      scope_filter: ["squad", "tribe"]
      domain_filter: ["technical"]

metadata:
  created_date: 2025-10-31
  execution_timestamp: 2025-10-31T14:30:25.123Z
  executor: workflow-agent
  duration_ms: 250
```

#### Configura√ß√£o de Avalia√ß√£o EvaluateForEnrich
```yaml
# Exemplo de avalia√ß√£o EvaluateForEnrich
schema: "1.0"
evaluation_id: zof-eval-exemplo-001
workflow_ref: zof-exemplo-basico

act_output:
  result_type: implementation
  content: "Implementa√ß√£o de autentica√ß√£o JWT com valida√ß√£o espec√≠fica..."
  metadata:
    created_at: 2025-10-31T14:30:00.000Z
    creator: user:developer
    complexity_score: 0.7

user_context:
  user_id: dev001
  moc_context:
    scope_level: squad
    domain_access: ["technical", "business"]
    authority_level: developer

evaluation_result:
  can_enrich_decision:
    approved: true
    confidence_score: 0.85
    evaluation_method: minimum_profile
    scoring_breakdown:
      semantic_novelty: 0.8
      practical_value: 0.9
      basic_authority: 0.85

  moc_criteria_results:
    criteria_source: "hierarchies.evaluation_criteria.nodes"
    profile_used: standard
    individual_results:
      relevance:
        criterion_name: "Relev√¢ncia"
        result: pass
        score: 0.8
        threshold_met: true
        explanation: "Outros desenvolvedores enfrentar√£o problema similar"
      
      reusability:
        criterion_name: "Reutiliza√ß√£o"
        result: pass
        score: 0.7
        threshold_met: true
        explanation: "Solu√ß√£o aplic√°vel em m√∫ltiplos contextos"

    overall_result:
      passed: true
      score: 0.75
      execution_method: weighted_scoring

  authority_validation:
    authorized: true
    validation_method: moc_based
    required_authority: developer
    user_authority: developer
    moc_nodes_cited: ["hierarchies.scope.squad", "hierarchies.domain.technical"]

  justification:
    summary: "Conhecimento aprovado baseado em relev√¢ncia alta e autoridade adequada"
    reasoning: "O resultado demonstra valor pr√°tico significativo..."
    mep_alignment:
      derived_authority: "Autoridade validada atrav√©s de contexto MOC"
      contextual_knowledge: "Conhecimento espec√≠fico do dom√≠nio t√©cnico"

recommended_actions:
  - action_type: proceed_to_enrich
    description: "Prosseguir para enriquecimento do Oracle"
    priority: high

metadata:
  evaluation_timestamp: 2025-10-31T14:35:00.000Z
  evaluator: workflow-agent
  duration_ms: 1500
```

### Para Organiza√ß√µes

#### Customiza√ß√£o de Workflows
- Configure eventos gatilho conforme processos organizacionais
- Adapte crit√©rios de avalia√ß√£o aos padr√µes locais
- Customize timeouts e pol√≠ticas de retry

#### Integra√ß√£o com MOC
- Use crit√©rios de avalia√ß√£o definidos no MOC organizacional
- Respeite hierarquias de autoridade configuradas
- Aplique pol√≠ticas de arbitragem customizadas


## ‚úÖ Valida√ß√£o e Conformidade

### Estados Can√¥nicos Obrigat√≥rios
Todo workflow ZOF deve incluir os 7 estados can√¥nicos:
1. `intake` ‚Üí `understand` ‚Üí `decide` ‚Üí `act` ‚Üí `evaluate_for_enrich` ‚Üí `review`/`enrich` ‚Üí `complete`

### Checkpoint EvaluateForEnrich
- **can_enrich_function:** Obrigat√≥ria em todos os workflows
- **moc_criteria_consultation:** Deve consultar MOC organizacional
- **authority_validation:** Valida√ß√£o de autoridade obrigat√≥ria
- **conflict_detection:** Detec√ß√£o de conflitos H1/H2/H3

### Sinais de Explicabilidade
Cada transi√ß√£o deve registrar:
- **context:** O que entrou no estado
- **decision:** Por que transicionou
- **result:** O que saiu do estado

## üîó Integra√ß√£o com Outros Frameworks

### MEF (Matrix Embedding Framework)
- Estados understand consultam UKIs estruturadas
- Enriquecimento produz novas UKIs no MEF
- Decision Records MAL persistidos no MEF

### MOC (Matrix Ontology Catalog)
- Crit√©rios de avalia√ß√£o definidos no MOC
- Valida√ß√£o de autoridade baseada em hierarquias MOC
- Pol√≠ticas de arbitragem configuradas no MOC

### MAL (Matrix Arbiter Layer)
- Detec√ß√£o de conflitos H1/H2/H3 no EvaluateForEnrich
- Invoca√ß√£o autom√°tica para arbitragem
- Aplica√ß√£o de decis√µes MAL via a√ß√µes espec√≠ficas

### OIF (Operator Intelligence Framework)
- Workflow Agents orquestram fluxos ZOF
- Arqu√©tipos executam estados espec√≠ficos
- Explica√ß√µes incorporam justificativas ZOF

## üìñ Recursos Relacionados

### Matrix Protocol Frameworks
- **[ZOF - Zion Orchestration Framework](../../zof)** - Documenta√ß√£o completa do framework
- **[Especifica√ß√µes Can√¥nicas](../)** - Todos os schemas do protocolo
- **[Exemplos de Workflows](/docs/examples)** - Casos de uso pr√°ticos

### Documenta√ß√£o T√©cnica
- **[Guia de Implementa√ß√£o](/docs/implementation)** - Como implementar o protocolo
- **[Manual de Ferramentas](/docs/manual/tools)** - Ferramentas de apoio ZOF
- **[Gloss√°rio](/docs/glossary)** - Defini√ß√µes e terminologia