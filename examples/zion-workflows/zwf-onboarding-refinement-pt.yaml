flow_id: zwf-onboarding-refinement-202401
flow_name: Refinamento do Processo de Onboarding de Usuários
triggered_by: work.refine.requested
trigger_context: Feedback indicando necessidade de otimização no processo de entrada
team_context: Squad Product - Growth Team
timestamp_start: "2024-01-20 14:00:00"
timestamp_end: "2024-01-22 17:30:00"

# Vínculo inicial ao Oráculo
oracle_context:
  motivating_ukis:
    - unik-product-user-onboarding-flow
    - unik-business-conversion-optimization
    - unik-strategy-user-retention-goals
    - unik-product-ux-research-methodology

# Fluxo de Estados
flow_execution:

  # Estado 1: INTAKE
  - state: intake
    timestamp: "2024-01-20 14:00:00"
    signals:
      context: "Recebido relatório indicando oportunidades de melhoria no processo de entrada"
      decision: "Priorizada análise de refinamento baseada no impacto nos objetivos de retenção"
      result: "Contexto estruturado: identificar pontos de atrito e propor melhorias"
    trigger_details:
      original_request: "Relatório de Pesquisa UX - Análise de Onboarding Q4 2023"
      stakeholder: "Head of Product"
      business_impact: "Oportunidade identificada de melhoria na jornada do usuário"
      current_context:
        process_assessment: "Processo atual requer otimização"
        improvement_potential: "Alto potencial de melhoria identificado"
        user_feedback: "Feedback indicando pontos de atrito"
        retention_impact: "Impacto direto nos objetivos de retenção"
    next_state: understand

  # Estado 2: UNDERSTAND
  - state: understand
    timestamp: "2024-01-20 14:30:00"
    oracle_ukis_consulted:
      - unik-product-user-onboarding-flow
      - unik-business-conversion-optimization
      - unik-product-ux-research-methodology
      - unik-strategy-user-retention-goals
    signals:
      context: "Analisado processo atual vs diretrizes de otimização e pesquisa UX"
      decision: "Identificados pontos críticos baseados em conhecimento do Oráculo"
      result: "Estratégia: abordagem incremental, otimizar progressivamente, aplicar gamificação"
    current_state_analysis:
      process_evaluation:
        current_approach: "Processo de entrada em múltiplas etapas"
        friction_points: "Pontos de atrito identificados no fluxo atual"
        optimization_opportunities: "Oportunidades de simplificação e melhoria"
        user_experience_gaps: "Lacunas na experiência do usuário"
      oracle_recommendations:
        conversion_optimization: "Aplicar técnicas de otimização de conversão do conhecimento"
        ux_research: "Usar dados comportamentais combinados com pesquisa qualitativa"
        retention_strategy: "Focar em redução do tempo para valor"
    next_state: decide

  # Estado 3: DECIDE
  - state: decide
    timestamp: "2024-01-20 16:00:00"
    reasoning_ukis:
      - unik-product-user-onboarding-flow
      - unik-business-conversion-optimization
    signals:
      context: "Avaliadas abordagens baseadas em diretrizes do Oráculo"
      decision: "Escolhida abordagem incremental fundamentada em UKIs de otimização"
      result: "Plano de refinamento estruturado conforme padrões estabelecidos"
    conceptual_planning:
      approach_basis: "Diretrizes de otimização do Oráculo aplicadas"
      risk_mitigation: "Estratégia de baixo risco conforme conhecimento estabelecido"
      pattern_alignment: "Alinhado com metodologia de refinement da equipe"
      knowledge_validation: "Plano validado contra UKIs de conversão"
    next_state: act

  # Estado 4: ACT
  - state: act
    timestamp: "2024-01-21 09:00:00"
    signals:
      context: "Iniciada implementação de refinements baseados em UKIs do Oráculo"
      decision: "Executada mudança seguindo processo estabelecido pela equipe"
      result: "Refinements implementados conforme diretrizes de otimização"
    conceptual_execution:
      oracle_guidance_applied: "Diretrizes de simplificação do Oráculo seguidas"
      team_process_alignment: "Processo de refinement da equipe respeitado"
      incremental_approach: "Abordagem incremental conforme padrão estabelecido"
      validation_method: "Validação baseada em conhecimento existente"
    next_state: enrich

  # Estado 5: ENRICH ORACLE (Obrigatório)
  - state: enrich_oracle
    timestamp: "2024-01-22 16:00:00"
    signals:
      context: "Primeira onda de refinement bem-sucedida, processo validado, aprendizados capturados"
      decision: "Atualizar UKI de onboarding com nova versão e criar padrão de refinement"
      result: "UKI onboarding atualizada v2.0, novo padrão de refinement incremental criado"
    new_ukis_created:
      - id: unik-product-user-onboarding-flow
        type: guideline
        domain: product
        context: implementation
        version: "2.0.0"
        created_date: "2024-01-10"
        last_modified: "2024-01-22"
        change_summary: "Aplicadas otimizações baseadas em análise de UX e diretrizes de conversão"
        change_impact: major
        previous_version: "1.0.0"
        language: pt_BR
        title: "Fluxo de Onboarding de Usuários Otimizado"
        content: |
          Processo de onboarding otimizado seguindo diretrizes do Oráculo.
          
          Princípios de design aplicados:
          1. Entrada simplificada baseada em essenciais
          2. Coleta progressiva de informações durante uso
          3. Indicadores visuais de progresso
          4. Opções de pular etapas não-essenciais
          5. Tempo reduzido para primeiro valor
          
          Fluxo otimizado:
          1. Entrada simplificada (campos essenciais)
          2. Verificação automatizada em segundo plano
          3. Boas-vindas + acesso direto ao valor principal
          4. Tutorial contextual (apenas quando necessário)
          5. Coleta de informações adicionais conforme necessidade
          
          Diretrizes de sucesso:
          - Processo otimizado baseado em diretrizes de conversão
          - Tempo reduzido até primeira ação
          - Conversão melhorada para usuário ativo
        examples:
          - input: "Usuário acessa processo de entrada"
            output: "Formulário otimizado com campos essenciais + orientação sobre benefícios"
          - input: "Entrada completa"
            output: "Redirecionamento direto para primeiro valor (painel principal)"
          - input: "Primeira semana de uso"
            output: "Coleta progressiva: informações adicionais via micro-interações"
        related_to:
          - target: unik-business-conversion-optimization
            relation_type: implements
            description: Implementa estratégias de otimização de conversão
          - target: unik-strategy-user-retention-goals
            relation_type: complies_with
            description: Atende objetivos estratégicos de retenção
          - target: unik-product-incremental-refinement-pattern
            relation_type: extends
            description: Estende padrão de refinamento incremental
        intent_of_use:
          - guide_product_design
          - optimize_conversion
          - reduce_friction
        use_case_stage:
          - design
          - implementation
          - testing
        last_validation: "2024-01-22"

      - id: unik-product-incremental-refinement-pattern
        type: pattern
        domain: product
        context: refinement
        version: "1.0.0"
        created_date: "2024-01-22"
        last_modified: "2024-01-22"
        language: pt_BR
        title: "Padrão de Refinement Incremental com Validação"
        content: |
          Metodologia para refinement de fluxos de produto usando abordagem incremental validada.
          
          Processo conceitual:
          1. Identificar pontos de atrito via dados e feedback
          2. Priorizar melhorias por impacto baseado em conhecimento
          3. Dividir mudanças em ondas pequenas e validáveis
          4. Implementar uma onda por vez com validação
          5. Validar resultados antes de próxima onda
          6. Documentar aprendizados no Oráculo
          
          Estrutura de ondas:
          - Onda 1: Mudança de maior impacto / menor risco
          - Onda 2: Melhorias de experiência
          - Onda 3: Elementos de engajamento/gamificação
          
          Critérios de sucesso:
          - Cada onda deve melhorar indicador principal significativamente
          - Validação baseada em conhecimento estabelecido
          - Sem degradação de indicadores secundários
          - Capacidade de reversão se indicadores pioram
          
          Benefícios:
          - Risco controlado
          - Aprendizado contínuo
          - Possibilidade de reversão granular
          - Retorno mensurável por mudança
        examples:
          - input: "Processo com oportunidade de melhoria identificada"
            output: "Onda 1: simplificação → melhoria verificada"
          - input: "Resultado positivo após onda 1"
            output: "Onda 2: melhoria de experiência → nova validação"
          - input: "Indicador piora em validação"
            output: "Reversão automática para versão anterior"
        related_to:
          - target: unik-product-user-onboarding-flow
            relation_type: extends
            description: Estende fluxo de onboarding com melhorias
          - target: unik-business-conversion-optimization
            relation_type: implements
            description: Implementa otimizações de conversão validadas
          - target: unik-product-validation-methodology
            relation_type: derives_from
            description: Derivada da metodologia de validação
        intent_of_use:
          - guide_product_improvement
          - standardize_testing
          - reduce_risk
        use_case_stage:
          - refinement
          - testing
          - optimization
        last_validation: "2024-01-22"

# Métricas de Telemetria
telemetry:
  workflow_id: "zwf-onboarding-refinement-202401"
  execution_start: "2024-01-20T14:00:00Z"
  execution_end: "2024-01-22T17:30:00Z"
  total_duration_seconds: 185400
  
  state_transition_duration:
    intake_to_understand:
      timestamp_start: "2024-01-20T14:00:00Z"
      timestamp_end: "2024-01-20T14:30:00Z"
      duration_seconds: 1800
    understand_to_decide:
      timestamp_start: "2024-01-20T14:30:00Z"
      timestamp_end: "2024-01-20T16:00:00Z"
      duration_seconds: 5400
    decide_to_act:
      timestamp_start: "2024-01-20T16:00:00Z"
      timestamp_end: "2024-01-21T09:00:00Z"
      duration_seconds: 61200
    act_to_enrich:
      timestamp_start: "2024-01-21T09:00:00Z"
      timestamp_end: "2024-01-22T16:00:00Z"
      duration_seconds: 111600
    enrich_duration:
      timestamp_start: "2024-01-22T16:00:00Z"
      timestamp_end: "2024-01-22T17:30:00Z"
      duration_seconds: 5400

  transition_quality_score:
    overall_workflow_score: 88
    state_scores:
      intake: 92        # Análise abrangente de oportunidades
      understand: 90    # Consulta detalhada ao Oráculo
      decide: 85        # Decisões fundamentadas em UX
      act: 86           # Implementação incremental eficaz
      enrich: 89        # UKIs bem estruturadas
    quality_factors:
      oracle_coverage: 92       # Decisões fundamentadas em UKIs
      explainability_depth: 88  # Sinais baseados em dados
      relationship_clarity: 84  # Clareza dos related_to

  workflow_health_metrics:
    completion_status: "successful"
    error_count: 0
    warning_count: 0
    retry_count: 0
    state_coverage:
      total_states: 5
      executed_states: 5
      skipped_states: 0
    oracle_availability: "available"
    enrichment_success: true

  oracle_enrichment_metrics:
    ukis_consulted: 4
    ukis_created: 2
    ukis_updated: 1
    relationship_count: 7
    knowledge_domains_touched:
      - product
      - business
      - strategy
    semantic_coherence_score: 91
    reusability_potential: "high"

  performance_indicators:
    throughput_score: 79          # Velocidade vs. qualidade de refinement
    efficiency_ratio: 0.82        # Tempo útil / tempo total
    oracle_hit_rate: 1.0          # UKIs encontrados / UKIs buscados
    decision_confidence: 0.87     # Confiança nas decisões de refinement

  observability_tags:
    team: "product-squad"
    trigger_type: "work.refine.requested"
    complexity_level: "medium"
    ai_assistance_level: "medium"
    feature_type: "onboarding_optimization"
    business_criticality: "high"
    refinement_type: "incremental"

# Reflexão Conceitual do Fluxo
flow_reflection:
  conceptual_completeness: "Estados canônicos percorridos conforme padrão de refinement"
  oracle_integration: "Diretrizes de conversão consultadas para fundamentar decisões"
  knowledge_enrichment: "UKI atualizada e novo padrão criado"
  explainability_maintained: "Rastreabilidade mantida entre dados e decisões"

# Aprendizados Conceituais
flow_learnings:
  - "Abordagem incremental reduz risco vs reforma completa"
  - "Fundamentar refino em UKIs do Oráculo garante consistência"
  - "Documentar cada onda facilita replicação do processo"
  - "Relacionar UKI gerada às motivadoras mantém rastreabilidade"

# Conformidade ZWF
zwf_compliance:
  - "✅ Fluxo iniciado por evento canônico (work.refine.requested)"
  - "✅ Consultou Oráculo para padrões de refinement"
  - "✅ Registrou sinais de explicabilidade baseados em dados"
  - "✅ Enriqueceu Oráculo com UKI atualizada e novo padrão"
  - "✅ Manteve rastreabilidade do processo de refino"

# Continuidade Conceitual
conceptual_continuity:
  iterative_approach: "Processo de refinement contínuo baseado em aprendizados"
  oracle_guidance: "Próximas iterações fundamentadas em UKIs atualizadas"
  pattern_replication: "Padrão estabelecido replicável para futuros refinements"

# Fluxos Relacionados
related_flows:
  - zwf-onboarding-refinement-continuation-202402  # Continuação do padrão de refinement
  - zwf-user-activation-analysis-202401  # Análise relacionada ao processo