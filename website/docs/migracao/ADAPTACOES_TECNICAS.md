# Adapta√ß√µes T√©cnicas Necess√°rias - Matrix Protocol Website

## üéØ Vis√£o Geral

Este documento detalha todas as adapta√ß√µes t√©cnicas necess√°rias para migrar o Matrix Protocol Website do projeto original para o v2, preservando funcionalidades enquanto atualiza para as vers√µes mais recentes do Nuxt e Nuxt UI.

## ‚ö†Ô∏è ATEN√á√ÉO CR√çTICA: Navega√ß√£o Multil√≠ngue (Nuxt UI 3.x)

### üö® PADR√ÉO OBRIGAT√ìRIO: UApp + localePath

**TODOS os links internos DEVEM usar `localePath()`** dentro do contexto do `UApp` para preservar o idioma atual:

#### ‚ùå INCORRETO (quebra navega√ß√£o multil√≠ngue):
```vue
<!-- app.vue - SEM UApp (QUEBRA I18N) -->
<template>
  <NuxtLayout>
    <NuxtPage />
  </NuxtLayout>
</template>

<!-- Componente qualquer - Links sem localePath -->
<template>
  <!-- NUNCA fazer isso -->
  <NuxtLink to="/about">About</NuxtLink>
  <NuxtLink to="/docs/getting-started">Docs</NuxtLink>
  
  <!-- Tamb√©m INCORRETO -->
  <router-link to="/contact">Contact</router-link>
  <a href="/services">Services</a>
</template>
```


#### ‚úÖ CORRETO (preserva idioma + Nuxt UI 3.x):
```vue
<!-- app.vue - COM UApp (OBRIGAT√ìRIO) -->
<script setup lang="ts">
import * as locales from '@nuxt/ui/locale'

const { locale } = useI18n()
</script>

<template>
  <UApp :locale="locales[locale]">
    <NuxtLayout>
      <NuxtPage />
    </NuxtLayout>
  </UApp>
</template>

<!-- Componente qualquer - Links com localePath -->
<script setup>
const localePath = useLocalePath()
</script>

<template>
  <!-- Sempre usar localePath() -->
  <NuxtLink :to="localePath('/about')">About</NuxtLink>
  <NuxtLink :to="localePath('/docs/getting-started')">Docs</NuxtLink>
  
  <!-- Para rotas din√¢micas -->
  <NuxtLink :to="localePath({ name: 'docs-slug', params: { slug: 'api' } })">
    API Docs
  </NuxtLink>
</template>
```


#### üìã Padr√£o Obrigat√≥rio em Todos os Componentes:

```vue
<script setup>
// SEMPRE importar localePath
const localePath = useLocalePath()
</script>

<template>
  <!-- Links simples -->
  <UButton :to="localePath('/protocol')">{{ $t('navigation.protocol') }}</UButton>
  
  <!-- Links din√¢micos -->
  <UButton :to="localePath(`/frameworks/${framework.key}`)">{{ framework.name }}</UButton>
  
  <!-- Links com √¢ncoras -->
  <UButton :to="localePath(`/frameworks/${slug}#architecture`)">Arquitetura</UButton>
  
  <!-- Links com query params -->
  <UButton :to="localePath(`/resources?framework=${framework.key}`)">Recursos</UButton>
</template>
```


### üîç Padr√µes Obrigat√≥rios (Nuxt UI 3.x)

| Componente | Padr√£o Obrigat√≥rio | Exemplo |
|------------|-------------------|---------|
| **app.vue** | `<UApp :locale="locales[locale]">` | Componente raiz obrigat√≥rio |
| **Todos os .vue** | `const localePath = useLocalePath()` | `<script setup>const localePath = useLocalePath()</script>` |
| **UButton** | `:to="localePath('/rota')"` | `<UButton :to="localePath('/about')">About</UButton>` |
| **NuxtLink** | `:to="localePath('/rota')"` | `<NuxtLink :to="localePath('/docs')">Docs</NuxtLink>` |
| **Navega√ß√£o** | Sempre usar `localePath()` | `navigateTo(localePath('/contact'))` |

#### üîç Componentes que DEVEM ser Verificados:

| Componente | Prioridade | Links Cr√≠ticos |
|------------|------------|----------------|
| `AppHeader.vue` | üî¥ Cr√≠tica | Navega√ß√£o principal |
| `MobileDrawer.vue` | üî¥ Cr√≠tica | Menu mobile |
| `FrameworkDropdown.vue` | üî¥ Cr√≠tica | Dropdown de frameworks |
| `FrameworkSidebar.vue` | üî¥ Cr√≠tica | Navega√ß√£o lateral |
| `FrameworkCard.vue` | üü° Alta | Cards de frameworks |
| `HeroSection.vue` | üü° Alta | CTAs principais |
| `QuickStartGuide.vue` | üü° Alta | Links de guia |
| `FeaturesSection.vue` | üü° Alta | Links de features |
| `DocsBreadcrumbs.vue` | üü° Alta | Breadcrumbs |

### üìã Componentes Cr√≠ticos a Migrar

| Arquivo | Mudan√ßa Necess√°ria | Prioridade |
|---------|-------------------|-----------|
| `app.vue` | üî¥ **Adicionar UApp wrapper** | üî¥ CR√çTICA |
| `nuxt.config.ts` | üî¥ **Ordem m√≥dulos + strategy** | üî¥ CR√çTICA |
| `AppHeader.vue` | ‚ö†Ô∏è Verificar localePath | üî¥ Alta |
| `AppFooter.vue` | ‚ö†Ô∏è Verificar localePath | üî¥ Alta |
| `FrameworkSidebar.vue` | ‚ö†Ô∏è Verificar localePath | üî¥ Alta |
| `pages/*.vue` | ‚ö†Ô∏è Verificar localePath | üî¥ Alta |

### ‚úÖ Valida√ß√£o Autom√°tica

O Nuxt UI 3.x com `UApp` **automaticamente valida** a configura√ß√£o de i18n. N√£o s√£o necess√°rios scripts adicionais - o pr√≥prio framework detectar√° problemas de configura√ß√£o durante o desenvolvimento.

#### üß™ Teste Manual de Valida√ß√£o:

```javascript
// Script de teste para validar localePath
// Executar em cada p√°gina para verificar links
function validateLocalePaths() {
  const links = document.querySelectorAll('a[href^="/"]')
  const invalidLinks = []
  
  links.forEach(link => {
    const href = link.getAttribute('href')
    if (!href.startsWith('/pt/') && !href.startsWith('/en/')) {
      invalidLinks.push({
        element: link,
        href: href,
        text: link.textContent.trim()
      })
    }
  })
  
  if (invalidLinks.length > 0) {
    console.error('‚ùå Links sem localePath encontrados:', invalidLinks)
    return false
  }
  
  console.log('‚úÖ Todos os links est√£o usando localePath corretamente')
  return true
}
```


## 1. Nuxt 4.x - Mudan√ßas Principais

### 1.1 Configura√ß√£o do Nuxt Config

#### Antes (Nuxt 3.13.0)
```typescript
// nuxt.config.ts
export default defineNuxtConfig({
  nitro: {
    compatibilityDate: '2025-07-15',
    preset: 'static',
    prerender: {
      routes: ['/'],
      crawlLinks: true
    }
  },
  modules: [
    '@nuxt/content',
    '@nuxt/ui',
    '@nuxtjs/i18n'
  ]
})
```


#### Depois (Nuxt 4.1.2)
```typescript
// nuxt.config.ts
export default defineNuxtConfig({
  compatibilityDate: '2025-07-15',
  devtools: { enabled: true },
  
  // Nitro config simplificado
  nitro: {
    preset: 'static',
    prerender: {
      routes: ['/'],
      crawlLinks: true
    }
  },
  
  modules: [
    '@nuxt/content',
    '@nuxt/ui',
    '@nuxtjs/i18n'
  ]
})
```


**Mudan√ßas Necess√°rias**:
- ‚úÖ `compatibilityDate` movido para n√≠vel raiz
- ‚ö†Ô∏è Verificar se todas as configura√ß√µes do Nitro s√£o compat√≠veis
- ‚úÖ Estrutura de m√≥dulos mantida

### 1.2 Sistema de Layouts

#### Antes
```vue
<!-- layouts/default.vue -->
<template>
  <div>
    <AppHeader />
    <main>
      <slot />
    </main>
  </div>
</template>
```


#### Depois
```vue
<!-- layouts/default.vue -->
<template>
  <div>
    <AppHeader />
    <main>
      <slot />
    </main>
  </div>
</template>
```


**Mudan√ßas Necess√°rias**:
- ‚úÖ Estrutura de layouts mantida
- ‚úÖ Sem breaking changes significativos

### 1.3 Composables e APIs

#### useHead() - Mantido
```typescript
// Antes e Depois - Compat√≠vel
useHead({
  titleTemplate: (title) => title ? `${title} - Matrix Protocol` : 'Matrix Protocol',
  meta: [
    { name: 'description', content: 'Framework description' }
  ]
})
```


#### Runtime Config - Verificar
```typescript
// Verificar se h√° mudan√ßas na API
const config = useRuntimeConfig()
```


## 2. Nuxt UI 3.x - Breaking Changes Cr√≠ticos

### 2.1 UButton - Mudan√ßas na API

#### Antes (Nuxt UI 2.17.0)
```vue
<template>
  <UButton 
    variant="outline" 
    size="sm"
    :to="localePath('/protocol')"
    class="nav-link"
  >
    {{ $t('navigation.protocol') }}
  </UButton>
</template>
```


#### Depois (Nuxt UI 3.3.4)
```vue
<template>
  <UButton 
    variant="outline" 
    size="sm"
    :to="localePath('/protocol')"
    class="nav-link"
  >
    {{ $t('navigation.protocol') }}
  </UButton>
</template>
```


**Verifica√ß√µes Necess√°rias**:
- ‚úÖ Props b√°sicas mantidas
- ‚ö†Ô∏è Verificar se `variant` e `size` t√™m os mesmos valores
- ‚ö†Ô∏è Testar comportamento de navega√ß√£o com `:to`

### 2.2 UDropdown - Mudan√ßas Significativas

#### Antes (Nuxt UI 2.x)
```vue
<template>
  <UDropdown 
    :items="frameworkItems"
    :popper="{ placement: 'bottom-start' }"
  >
    <UButton variant="ghost" trailing-icon="i-heroicons-chevron-down-20-solid">
      Frameworks
    </UButton>
  </UDropdown>
</template>

<script setup>
const frameworkItems = [
  [{
    label: 'MEF',
    to: '/frameworks/mef',
    icon: 'i-custom-mef'
  }]
]
</script>
```


#### Depois (Nuxt UI 3.x)
```vue
<template>
  <UDropdown>
    <UButton variant="ghost" trailing-icon="i-heroicons-chevron-down-20-solid">
      Frameworks
    </UButton>
    
    <template #content>
      <UDropdownItem 
        v-for="item in frameworkItems" 
        :key="item.label"
        :to="item.to"
        :icon="item.icon"
      >
        {{ item.label }}
      </UDropdownItem>
    </template>
  </UDropdown>
</template>

<script setup>
const frameworkItems = [
  {
    label: 'MEF',
    to: '/frameworks/mef',
    icon: 'i-custom-mef'
  }
]
</script>
```


**Mudan√ßas Cr√≠ticas**:
- üî¥ **BREAKING**: Estrutura de items completamente diferente
- üî¥ **BREAKING**: Uso de slots em vez de props para conte√∫do
- üî¥ **BREAKING**: `UDropdownItem` como componente separado

### 2.3 UModal - Nova API

#### Antes (Nuxt UI 2.x)
```vue
<template>
  <UModal v-model="isOpen">
    <div class="p-4">
      <h3>Modal Title</h3>
      <p>Modal content</p>
    </div>
  </UModal>
</template>

<script setup>
const isOpen = ref(false)
</script>
```


#### Depois (Nuxt UI 3.x)
```vue
<template>
  <UModal v-model="isOpen">
    <UCard>
      <template #header>
        <h3>Modal Title</h3>
      </template>
      
      <p>Modal content</p>
    </UCard>
  </UModal>
</template>

<script setup>
const isOpen = ref(false)
</script>
```


**Mudan√ßas**:
- ‚ö†Ô∏è Recomendado usar `UCard` dentro do modal
- ‚úÖ `v-model` mantido para controle de estado

## 3. @nuxt/content 3.x - Mudan√ßas na API

### 3.1 Query de Conte√∫do

#### Antes (@nuxt/content 2.13.0)
```typescript
// Composable ou p√°gina
const { data: frameworks } = await $content('frameworks').fetch()
const { data: protocol } = await $content('protocol').fetch()

// Com filtros
const { data: posts } = await $content('blog')
  .where({ published: true })
  .sortBy('date', 'desc')
  .fetch()
```


#### Depois (@nuxt/content 3.7.1)
```typescript
// Composable ou p√°gina
const frameworks = await queryContent('frameworks').find()
const protocol = await queryContent('protocol').findOne()

// Com filtros
const posts = await queryContent('blog')
  .where({ published: true })
  .sort({ date: -1 })
  .find()
```


**Mudan√ßas Cr√≠ticas**:
- üî¥ **BREAKING**: `$content()` ‚Üí `queryContent()`
- üî¥ **BREAKING**: `.fetch()` ‚Üí `.find()` ou `.findOne()`
- üî¥ **BREAKING**: `.sortBy()` ‚Üí `.sort()`

### 3.2 Navega√ß√£o de Conte√∫do

#### Antes
```typescript
const { data: navigation } = await $content()
  .only(['title', 'slug', 'dir'])
  .where({ dir: '/frameworks' })
  .fetch()
```


#### Depois
```typescript
const navigation = await queryContent()
  .only(['title', 'slug', '_path'])
  .where({ _path: { $contains: '/frameworks' } })
  .find()
```


**Mudan√ßas**:
- üî¥ **BREAKING**: `dir` ‚Üí `_path`
- ‚ö†Ô∏è Sintaxe de filtros atualizada

### 3.3 Componentes de Conte√∫do

#### Antes
```vue
<template>
  <div>
    <nuxt-content :document="doc" />
  </div>
</template>
```


#### Depois
```vue
<template>
  <div>
    <ContentRenderer :value="doc" />
  </div>
</template>
```


**Mudan√ßas**:
- üî¥ **BREAKING**: `<nuxt-content>` ‚Üí `<ContentRenderer>`
- üî¥ **BREAKING**: `:document` ‚Üí `:value`

## 4. Internacionaliza√ß√£o (Nuxt UI 3.x + @nuxtjs/i18n)

### ‚ö†Ô∏è MUDAN√áA CR√çTICA: Integra√ß√£o Nuxt UI 3.x

O Nuxt UI 3.x introduz um **novo padr√£o obrigat√≥rio** para internacionaliza√ß√£o que requer:

1. **Componente UApp obrigat√≥rio**
2. **Integra√ß√£o com locales do Nuxt UI**
3. **Configura√ß√£o h√≠brida @nuxtjs/i18n + Nuxt UI**

### 4.1 Configura√ß√£o Atual vs Nova

#### Antes (Nuxt 3.x + @nuxtjs/i18n apenas)
```typescript
// nuxt.config.ts
export default defineNuxtConfig({
  modules: ['@nuxtjs/i18n'],
  i18n: {
    locales: [
      { code: 'en', file: 'en.json' },
      { code: 'pt', file: 'pt.json' }
    ],
    defaultLocale: 'en',
    langDir: 'locales/',
    strategy: 'prefix'
  }
})
```


```vue
<!-- app.vue - ANTES -->
<template>
  <NuxtLayout>
    <NuxtPage />
  </NuxtLayout>
</template>
```


#### Depois (Nuxt 4.x + Nuxt UI 3.x)
```typescript
// nuxt.config.ts
export default defineNuxtConfig({
  modules: [
    '@nuxt/ui',           // OBRIGAT√ìRIO antes do @nuxtjs/i18n
    '@nuxtjs/i18n'
  ],
  i18n: {
    locales: [
      { code: 'en', file: 'en.json' },
      { code: 'pt', file: 'pt.json' }
    ],
    defaultLocale: 'en',
    langDir: 'locales/',
    strategy: 'prefix_except_default', // Mudan√ßa principal
    detectBrowserLanguage: {
      useCookie: true,
      cookieKey: 'matrix_locale',
      redirectOn: 'root'
    }
  }
})
```


```vue
<!-- app.vue - DEPOIS (OBRIGAT√ìRIO) -->
<script setup lang="ts">
import * as locales from '@nuxt/ui/locale'

const { locale } = useI18n()
</script>

<template>
  <UApp :locale="locales[locale]">
    <NuxtLayout>
      <NuxtPage />
    </NuxtLayout>
  </UApp>
</template>
```


**Mudan√ßas Cr√≠ticas**:
- üî¥ **BREAKING**: Componente `UApp` obrigat√≥rio no root
- üî¥ **BREAKING**: Ordem dos m√≥dulos importa (`@nuxt/ui` antes de `@nuxtjs/i18n`)
- üî¥ **BREAKING**: Integra√ß√£o com locales do Nuxt UI
- ‚ö†Ô∏è Strategy recomendada: `prefix_except_default`
- ‚úÖ `localePath()` e `$t()` mantidos

## 5. Adapta√ß√µes Espec√≠ficas por Componente

### 5.1 AppHeader.vue

#### Problemas Identificados
1. **UButton**: Verificar props e comportamento
2. **Dropdown de Frameworks**: Migra√ß√£o cr√≠tica necess√°ria
3. **Language Selector**: Atualizar componente

#### Estrat√©gia de Migra√ß√£o
```vue
<!-- Antes -->
<UButton
  :to="localePath('/protocol')"
  variant="ghost"
  class="nav-link"
  size="sm"
>
  {{ $t('navigation.protocol') }}
</UButton>

<!-- Depois - Verificar se mant√©m -->
<UButton
  :to="localePath('/protocol')"
  variant="ghost"
  class="nav-link"
  size="sm"
>
  {{ $t('navigation.protocol') }}
</UButton>
```


### 5.2 FrameworkDropdown.vue

#### Migra√ß√£o Cr√≠tica
```vue
<!-- ANTES (Nuxt UI 2.x) -->
<template>
  <UDropdown 
    :items="frameworkItems"
    :popper="{ placement: 'bottom-start' }"
  >
    <UButton variant="ghost" trailing-icon="i-heroicons-chevron-down-20-solid">
      {{ $t('navigation.frameworks') }}
    </UButton>
  </UDropdown>
</template>

<!-- DEPOIS (Nuxt UI 3.x) -->
<template>
  <UDropdown>
    <UButton variant="ghost" trailing-icon="i-heroicons-chevron-down-20-solid">
      {{ $t('navigation.frameworks') }}
    </UButton>
    
    <template #content>
      <div class="p-1">
        <UDropdownItem 
          v-for="framework in frameworks" 
          :key="framework.slug"
          :to="localePath(`/frameworks/${framework.slug}`)"
          class="flex items-center gap-2"
        >
          <img 
            :src="framework.icon" 
            :alt="framework.name"
            class="w-4 h-4"
          />
          {{ framework.name }}
        </UDropdownItem>
      </div>
    </template>
  </UDropdown>
</template>
```


### 5.3 Componentes de Conte√∫do

#### GlossaryContent.vue
```vue
<!-- ANTES -->
<script setup>
const { data: glossary } = await $content('glossary').fetch()
</script>

<!-- DEPOIS -->
<script setup>
const glossary = await queryContent('glossary').findOne()
</script>
```


#### ProtocolContent.vue
```vue
<!-- ANTES -->
<script setup>
const { data: protocol } = await $content('protocol').fetch()
const { data: navigation } = await $content()
  .only(['title', 'slug'])
  .where({ dir: '/protocol' })
  .fetch()
</script>

<!-- DEPOIS -->
<script setup>
const protocol = await queryContent('protocol').findOne()
const navigation = await queryContent()
  .only(['title', 'slug', '_path'])
  .where({ _path: { $contains: '/protocol' } })
  .find()
</script>
```


## 6. Testes de Compatibilidade

### 6.1 Checklist de Verifica√ß√£o

#### Nuxt UI Components
- [ ] `UButton` - Props e comportamento
- [ ] `UDropdown` - Nova estrutura de slots
- [ ] `UModal` - API de controle
- [ ] `UInput` - Valida√ß√£o e eventos
- [ ] `UCard` - Estrutura e slots
- [ ] `UBadge` - Estilos e variantes

#### @nuxt/content
- [ ] `queryContent()` - Substitui√ß√£o de `$content()`
- [ ] `.find()` vs `.fetch()`
- [ ] Filtros e ordena√ß√£o
- [ ] `ContentRenderer` - Substitui√ß√£o de `nuxt-content`
- [ ] Navega√ß√£o de conte√∫do
- [ ] Syntax highlighting

#### Nuxt 4.x
- [ ] Configura√ß√£o do `nuxt.config.ts`
- [ ] Sistema de layouts
- [ ] Roteamento din√¢mico
- [ ] Composables (`useHead`, `useSeoMeta`)
- [ ] Runtime config
- [ ] Build e deployment

### 6.2 Plano de Testes

#### Fase 1: Componentes Isolados
1. Criar vers√µes de teste de cada componente
2. Verificar props e eventos
3. Testar responsividade
4. Validar acessibilidade

#### Fase 2: Integra√ß√£o
1. Testar navega√ß√£o completa
2. Verificar sistema de conte√∫do
3. Testar internacionaliza√ß√£o
4. Validar SEO e meta tags

#### Fase 3: Performance
1. Comparar bundle size
2. Testar Core Web Vitals
3. Verificar tempos de carregamento
4. Validar SSG/SSR

## 7. Scripts de Migra√ß√£o

### 7.1 Script de Atualiza√ß√£o de Queries
```javascript
// scripts/update-content-queries.js
const fs = require('fs')
const path = require('path')

function updateContentQueries(filePath) {
  let content = fs.readFileSync(filePath, 'utf8')
  
  // Substituir $content por queryContent
  content = content.replace(/\$content\(/g, 'queryContent(')
  
  // Substituir .fetch() por .find()
  content = content.replace(/\.fetch\(\)/g, '.find()')
  
  // Substituir .sortBy por .sort
  content = content.replace(/\.sortBy\(([^,]+),\s*['"]([^'"]+)['"]\)/g, '.sort({ $1: "$2" === "desc" ? -1 : 1 })')
  
  fs.writeFileSync(filePath, content)
}
```


### 7.2 Script de Atualiza√ß√£o de Componentes
```javascript
// scripts/update-ui-components.js
function updateUIComponents(filePath) {
  let content = fs.readFileSync(filePath, 'utf8')
  
  // Atualizar nuxt-content para ContentRenderer
  content = content.replace(/<nuxt-content\s+:document="([^"]+)"/g, '<ContentRenderer :value="$1"')
  content = content.replace(/<\/nuxt-content>/g, '</ContentRenderer>')
  
  fs.writeFileSync(filePath, content)
}
```


## 8. Rollback Strategy

### 8.1 Backup Completo
- Manter projeto original intacto
- Criar branch de backup antes da migra√ß√£o
- Documentar todas as mudan√ßas

### 8.2 Pontos de Rollback
1. **Ap√≥s configura√ß√£o base**: Se build falhar
2. **Ap√≥s migra√ß√£o de componentes**: Se UI quebrar
3. **Ap√≥s migra√ß√£o de conte√∫do**: Se CMS falhar
4. **Antes do deploy**: Valida√ß√£o final

### 8.3 Crit√©rios de Rollback
- Build failures que n√£o podem ser resolvidos em 2 horas
- Perda de funcionalidade cr√≠tica
- Problemas de performance significativos
- Quebras de acessibilidade

## 9. üö® CR√çTICO: Tailwind CSS v4 Compatibility

### 9.1 Problema Identificado

**Erro comum durante o build**:
```

ERROR [@tailwindcss/vite:generate:build] Cannot apply unknown utility class text-gray-600. 
Are you using CSS modules or similar and missing @reference?
```


**Causa**: Classes `@apply` em blocos `<style scoped>` n√£o s√£o compat√≠veis com Tailwind CSS v4.

### 9.2 Componentes Afetados

Todos os componentes que usam padr√£o `@apply` em estilos escopados:
- `AppHeader.vue`
- `FrameworkDropdown.vue` 
- `LanguageSelector.vue`
- `MobileDrawer.vue`
- Qualquer componente migrado com esse padr√£o

### 9.3 Solu√ß√£o Obrigat√≥ria

#### ‚ùå ANTES (Original - Quebra no build)
```vue
<template>
  <button class="nav-link" :class="{ 'nav-link-active': isActive }">
    {{ label }}
  </button>
</template>
<style scoped>
.nav-link {
  @apply text-gray-600 dark:text-gray-300 hover:text-gray-900 px-3 py-2;
}
.nav-link-active {
  @apply text-blue-600 dark:text-blue-400 font-semibold bg-blue-50;
}
</style>
```


#### ‚úÖ DEPOIS (v2 - Compat√≠vel com Tailwind v4)
```vue
<template>
  <button 
    class="text-gray-600 dark:text-gray-300 hover:text-gray-900 px-3 py-2 transition-colors duration-200"
    :class="{ 'text-blue-600 dark:text-blue-400 font-semibold bg-blue-50 dark:bg-blue-900/20': isActive }"
  >
    {{ label }}
  </button>
</template>
<style scoped>
/* Apenas CSS puro se absolutamente necess√°rio */
.custom-height {
  height: 4.5rem;
}
</style>
```


### 9.4 Processo de Convers√£o

#### Passo 1: Identificar estilos problem√°ticos
```bash
# Buscar por @apply em componentes
grep -r "@apply" app/components/
```


#### Passo 2: Extrair classes Tailwind
1. Copiar todas as classes dos blocos `@apply`
2. Criar constantes/vari√°veis se necess√°rio
3. Preparar classes condicionais para estados

#### Passo 3: Aplicar no template
```vue
<!-- Exemplo de convers√£o completa -->
<template>
  <nav>
    <button 
      v-for="item in items"
      :key="item.id"
      class="flex items-center gap-3 px-3 py-3 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
      :class="getItemClasses(item)"
    >
      {{ item.label }}
    </button>
  </nav>
</template>

<script setup>
const getItemClasses = (item) => {
  return item.active 
    ? 'bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium'
    : 'text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-matrix-600'
}
</script>
```


#### Passo 4: Remover `@apply`
- Deletar completamente todos os blocos `@apply`
- Manter apenas CSS puro se necess√°rio
- Remover `<style scoped>` vazio

#### Passo 5: Validar
```bash
pnpm build  # Deve passar sem erros Tailwind
```


### 9.5 Componentes J√° Migrados (Refer√™ncia)

Os seguintes componentes foram corrigidos e podem servir de refer√™ncia:
- `‚úÖ app/components/layout/AppHeader.vue`
- `‚úÖ app/components/navigation/FrameworkDropdown.vue`
- `‚úÖ app/components/navigation/LanguageSelector.vue`  
- `‚úÖ app/components/layout/MobileDrawer.vue`

### 9.6 Checklist de Migra√ß√£o de Estilos

Para cada componente migrado:
- [ ] Identificar todos os `@apply` no componente original
- [ ] Extrair classes Tailwind para template
- [ ] Implementar estados din√¢micos com `:class`
- [ ] Remover `@apply` completamente
- [ ] Testar build (`pnpm build`)
- [ ] Validar visual permanece id√™ntico
- [ ] Confirmar intera√ß√µes funcionam

## Conclus√£o

Esta documenta√ß√£o fornece um guia completo para todas as adapta√ß√µes t√©cnicas necess√°rias, incluindo a corre√ß√£o cr√≠tica para Tailwind CSS v4. A migra√ß√£o deve ser feita de forma incremental, testando cada componente ap√≥s a atualiza√ß√£o e mantendo sempre a possibilidade de rollback.